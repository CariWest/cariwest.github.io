<!DOCTYPE html>
<html>
  <head>
    <title>Class Organization</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="../stylesheets/default.css">
    <link rel='stylesheet' type='text/css' href='http://fonts.googleapis.com/css?family=Bitter'>
  </head>

  <body>
    <div class="container">
      <header>
        <p class="name">Class Organization</p>
        <p class="subheader">The Basics</p>
        <p class="date">19 December 2014</p>

        <div class="horizontal"></div>

        <nav_main>
          <ul class="center-it">
            <li><a href="http://cariwest.github.io/">Home</a></li>
            <li><a href="$">Projects</a></li>
            <li><a href="http://cariwest.github.io/cariwest-blogs.html">Blog</a></li>
            <li><a href="$">Contact</a></li>
          </ul>
        </nav_main>

        <div class="horizontal"></div>
      </header>

      <div class="content">
        <blogs-list>
          <p><span>Blog Posts</span>
            <ul>
              <li><a href="http://cariwest.github.io/blog/t1-git-blog.html">What is Git? And Why Should You Care?</a></li>
              <li><a href="http://cariwest.github.io/blog/c1-chefs-kitchen.html">Too Many Cooks: You Only Live Once</a></li>
              <li><a href="http://cariwest.github.io/blog/t2-css-design.html">Positioning: The Kama Sutra of CSS</a></li>
              <li><a href="http://cariwest.github.io/blog/t3-arrays-hashes.html">Arrays and Hashes: Which Should You Use?</a></li>
              <li><a href="http://cariwest.github.io/blog/c3-thinking-style.html">On Astounding Myself: Maintaining a Growth Mindset</a></li>
              <li><a href="http://cariwest.github.io/blog/ruby-fundamentals.html">A Tale of Two Variables - But Only One Object</a></li>
              <li><a href="http://cariwest.github.io/blog/t4-enumerable-methods.html">Illuminating Enumerable: A Powerful Class!</a></li>
              <li><a href="http://cariwest.github.io/blog/c4-tech-issues.html">Buggy Technology: Is it Inevitable?</a></li>
              <li><a href="http://cariwest.github.io/blog/t5-ruby-classes.html">Class Organization: The Basics</a></li>
              <li><a href="http://cariwest.github.io/blog/c5-feedback.html">Pairing and Feedback: A Learning Feedback Loop</a></li>
              <li><a href="http://cariwest.github.io/blog/t6-oop-concepts.html">Class vs. Instance Methods: On the State of Objects</a></li>
              <li><a href="http://cariwest.github.io/blog/c6-stereotype-threat.html">Stereotype Threat: Women in Coding</a></li>
              <li><a href="http://cariwest.github.io/blog/t7-JavaScript.html">Looping: JavaScript vs Ruby</a></li>
              <li><a href="http://cariwest.github.io/blog/c7-values.html">Self-Affirmation: Undermining our Insecurities</a></li>
            </ul>
          </p>
        </blogs-list>

        <blog-post>
          <p><span>The Importance of Classes</span></p>
          <p>Classes can be an ambiguous subject. So much of the process of learning Ruby focuses on Objects — it is called "Object Oriented Programming," after all. However, this can make it can be difficult to learn the usefulness of Classes, since we're always looking at the objects themselves. However, Classes are an excellent organizational tool for our Objects and their methods. Good organization of Classes can really help us create readable and efficient code — which is ultimately the goal, right?</p>

          <p>I want to go over the basics of setting up a Class. If you can approach a class logically every single time, then you'll have a great foundation for all the Ruby code you'll develop thereafter.</p>

          <p><span>Classes: Using Inheritence</span></p>
          <p>The first thing to consider when setting up a Class is what, exactly, you'll be trying to model. For example, let's make a class which models our pets. Let's say we have a dog and two cats. However, a general Pets class is poor organization - the only attributes your pets really have in common are that they all have names, ages, and breeds. It would be best to create a super-class of Pets, and then create a sub-class for each species.</p>

          <p>To do this, we'll use inheritence. The Dog class and the Cat class will inherit from the Pets class using the "<" operator in the class definition.</p>

          <pre>class Pets
end

class Dogs < Pets
end

class Cats < Pets
end</pre>

          <p><span>Organizing Basic Methods</span></p>

          <p>Once we've set up the inheritence, we can start defining the attributes of each class. We want to make sure that the most general information goes in the Pets class. These are the attributes which all pets have.</p>

          <p>In the subclasses, we'll then set up attributes which only some pets have. It's important to note that the initialization method should go in the superclass; if you also write an initialization method in the subclass, you will overwrite the method in the superclass.</p>

          <pre>class Pets
  attr_reader :age, :breed
  attr_accessor :name

  def initialize(name, breed, age)
    @name = name
    @age = age
    @breed = breed
  end

  def print_info
    "#{@name} is a #{@age} year old #{@breed}."
  end
end

class Dogs < Pets
end

class Dogs < Pets
end</pre>

          <p>Here, you can see that we've separated the data based on what attributes all pets have. All of these attribute variables are set up as instance variables, as indicated by the @ symbol at the beginning of the variable name; this is becuase they are being accessed by different methods in the Class. If you have any variables which are only applicable to the method itself, you could write the variable without the @ symbol. You'll also note that we've used Attribute Methods to define some pre-set methods. These methods help us access and set attributes of our objects.</p>

          <p>It's important to consider what Attribute Methods you wish to use based on what information is immutable versus the information the user should be able to change. For example, breed is immutable; thus, we use attr_reader to establish a method which will retrieve that information from a class instance. On the other hand, an owner can choose to change a pet's name on a whim. As such, we use attr_accessor to set up this attribute, which will allow us to both retrieve the information and change the information.</p>

          <p>Finally, we've also created a method which can print the basic information about your pets. Let's call some methods and look at the output so we can understand what's going on.</p>

          <pre>moby = Dog.new("Moby", "border collie", 1)
tricky = Cat.new("Tricky", "tabby", 7)
puts moby.print_info
puts tricky.print_info
puts
moby.name = "Moby Dick"
puts "Please address my dog by his full name, #{moby.name}."
puts moby.print_info</pre>

          <p>And the output will be:</p>
          <pre>=> Moby is a 1 year old border collie.
=> Tricky is a 7 year old tabby.

=> Please address my dog by his full name, Moby Dick.
=> Moby Dick is a 1 year old border collie.</pre>

          <p><span>Organizing Specific Methods</span></p>

          <p>Now that the basic information is in place, it's time to add some more specific methods. Let's describe some tricks our pets can do!</p>

          <pre>class Dog < Pets
  def sit
    @trick = "sitting"
  end

  def down
    @trick = "lying down"
  end
end

class Cat < Pets
  def sit
    @trick = "glaring at you"
  end

  def down
    @trick = "glaring at you"
  end
end</pre>

          <p>Great! Our pets know some tricks. Before we go any further, though, let's create a method which will print out what our pet is doing. This method should go in the Pets class since it can be used for either a cat or a dog.</p>

          <pre>class Pets
  attr_reader :age, :breed
  attr_accessor :name

  def initialize(name, breed, age)
    @name = name
    @age = age
    @breed = breed
  end

  def print_info
    "#{@name} is a #{@age} year old #{@breed}."
  end

  def print_trick
    "#{@name} is #{@trick}."
  end
end</pre>

          <p>Now we call call the methods and see what they do.</p>

          <pre>moby.sit
moby.print_trick
tricky.sit
tricky.print_trick

=> Moby Dick is sitting.
=> Tricky is glaring at you.</pre>

          <p>Excellent! These methods work, and it's clear what is going on. However, the set-up is still a little clunky. It would be nice if we could chain these methods together.</p>

          <p><span>Chaining Methods</span></p>

          <p>The ability to chain methods together is one of the greatest strengths of Ruby. However, if we tried to chain the methods together right now, you'd get a NoMethodError! To chain methods together, we have one more step - but it's so easy! All you need to do is ensure that the methods which can be chained return "self."</p>

          <pre>class Dog < Pets
  def sit
    @trick = "sitting"
    self
  end

  def down
    @trick = "lying down"
    self
  end
end

class Cat < Pets
  def sit
    @trick = "glaring at you"
    self
  end

  def down
    @trick = "glaring at you"
    self
  end
end</pre>

          <p>Now the methods will succeed when we chain them together.</p>

          <pre>puts moby.sit.print_trick
puts tricky.sit.print_trick

=> Moby Dick is sitting.
=> Tricky is glaring at you.</pre>

          <p>Remember that not every method should return "self" - only the ones which you would like to feed directly into another method. In this case, the tricks need to return self, but the print_tricks method does not.</p>

          <p><span>Go Play!</span></p>

          <p>There's so much more to learn about efficient organization of Classes! These tips and tricks will get you started, though. The best way to learn more is to go play with the material yourself. Try modeling your own real-life objects through classes. Think about how the instance variables, attribute_accessors, and methods should be organized to make an efficient program.</p>

          <p>I recommend the following resources for more information on how to set up a Class:
            <ul>
              <li><a href="http://rubylearning.com/satishtalim/writing_our_own_class_in_ruby.html">Writing our own Class in Ruby</a></li>
              <li><a href="http://www.eriktrautman.com/posts/ruby-explained-classes">Ruby Explained: Classes</a></li>
              <li><a href="http://www.sitepoint.com/a-guide-to-method-chaining"/>A Guide to Method Chaining</a></li>
            </ul>
          </p>

        </blog-post>
      </div>

      <footer>
        <div class="horizontal"></div>

        <ul class="center-it">
          <li><a href="https://github.com/CariWest"><img src="../imgs/github.png" alt="github"/></a></li>
          <li><a href="https://twitter.com/CariWest"><img src="../imgs/twitter.png" alt="twitter"/></a></li>
          <li><a href="https://www.linkedin.com/in/cariwestbrook"><img src="../imgs/linkedin.png" alt="linkedin"/></a></li>
          <li><a href="https://www.facebook.com/abinikai"><img src="../imgs/facebook.png" alt="facebook"/></a></li>
          <li><a href="https://plus.google.com/u/0/108109738030463976912"><img src="../imgs/google.png" alt="google"/></a></li>
        </ul>
        <!-- Social media icons courtesy of https://www.iconfinder.com/zlaten -->
      </footer>
    </div>
  </body>
</html>